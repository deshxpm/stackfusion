<!DOCTYPE html>
{% load static %}
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>{% block title %}stackfusion{% endblock %}</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
	</head>
	
	<body>
		{% block body %}
    		{% block main %}
    			<section class="cotainer">
		        	<div class="row">
		        		<div class="col-md-3"></div>
		        		<div class="col-md-6">
		        			<p>***Assignment for Stackfusion***</p>
						    <h3 class="text-center text-primary">Sample Form</h3>
						    <p class="text-right text-primary"><a href="{% url 'checkdata' %}">My Data</a></p>
						    <form method="post">
						    	{% csrf_token %}
						    	<div class="mb-3">
						    		<label for="name" class="form-label">Name</label>
									<input type="text" name="name" class="form-control" placeholder="Name">
								</div>
								<div class="mb-3">
									<label for="dob" class="form-label">Date of Birth</label>
									<input type="date" name="dob" id="date" onblur="getAge()" class="form-control">
								</div>
				    			<div class="mb-3">
				    				<label for="email" class="form-label">Email</label>
									<input type="email" name="email" class="form-control" placeholder="Email">
								</div>	
				    			<div class="mb-3">
				    				<label for="phone_number" class="form-label">Phone Number</label>
									<input type="number" name="phone_number" minlength="10" maxlength="10" class="form-control" placeholder="Phone Number">
								</div>
				    			<input type="submit" value="Submit" class="btn btn-primary btn-block">
				    		</form>
			    		</div>
			    		<div class="col-md-3"></div>
		    		</div>
			{% endblock %}
			{% block extrajs %}
				<script>
					function getAge() {
					var dateString = document.getElementById("date").value;
					if(dateString !="")
					{
					    var today = new Date();
					    var birthDate = new Date(dateString);
					    var age = today.getFullYear() - birthDate.getFullYear();
					    var m = today.getMonth() - birthDate.getMonth();
					    var da = today.getDate() - birthDate.getDate();
					    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
					        age--;
					    }
					    if(m<0){
					        m +=12;
					    }
					    if(da<0){
					        da +=30;
					    }
					    
					  if(age < 18 || age > 100)
					{
					alert("Age must be greater than 18.");

					} 
					} else {
					alert("please provide your date of birth");
					}
					}

					</script>
			{% endblock %}
		{% endblock %}

	</body>

</html>

	